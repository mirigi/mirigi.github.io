---
layout: null
lang: fr
title: Proposition Personnalisée - Mirigi
description: Proposition commerciale personnalisée pour votre immeuble
permalink: /fr/proposal.html
---
{% assign t = site.data[page.lang] %}
<!DOCTYPE html>
<html lang="{{ page.lang }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>{{ t.proposal_for }} - Mirigi</title>
  <meta name="description" content="{{ t.proposal_builder_subtitle }}">
  <meta name="robots" content="noindex, nofollow">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link href="{{ '/vendor/bootstrap/css/bootstrap.min.css' | relative_url }}" rel="stylesheet">
  <link href="{{ '/vendor/fontawesome-free/css/all.min.css' | relative_url }}" rel="stylesheet">
  <link href="{{ '/css/grayscale.min.css' | relative_url }}" rel="stylesheet">
  <link href="{{ '/css/brochure.css' | relative_url }}" rel="stylesheet">

  <style>
    /* Additional proposal-specific styles */
    .proposal-pricing {
      background: var(--luxury-pearl);
      padding: 1in 1.25in;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .proposal-pricing h2 {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 2rem;
      font-weight: 400;
      text-transform: uppercase;
      color: var(--luxury-charcoal);
      text-align: center;
      margin-bottom: 2rem;
      letter-spacing: 0.1em;
    }

    .proposal-pricing h2::after {
      content: '';
      display: block;
      width: 50px;
      height: 2px;
      background: var(--luxury-gold);
      margin: 1rem auto 0;
    }

    .proposal-pricing-content {
      text-align: center;
      font-family: 'Montserrat', sans-serif;
      font-size: 1.5rem;
      color: var(--luxury-charcoal);
      margin: 2rem 0;
      padding: 2rem;
      background: white;
      box-shadow: 0 4px 30px rgba(0,0,0,0.08);
    }

    .proposal-terms {
      background: white;
      padding: 1in 1.25in;
      min-height: 100vh;
    }

    .proposal-terms h2 {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 2rem;
      font-weight: 400;
      text-transform: uppercase;
      color: var(--luxury-charcoal);
      margin-bottom: 2rem;
      letter-spacing: 0.1em;
    }

    .proposal-terms h2::after {
      content: '';
      display: block;
      width: 50px;
      height: 2px;
      background: var(--luxury-gold);
      margin: 1rem 0;
    }

    .proposal-terms-content {
      font-family: 'Open Sans', sans-serif;
      font-size: 1rem;
      line-height: 1.8;
      color: var(--luxury-slate);
      white-space: pre-wrap;
    }

    .brochure-features-compact {
      background: var(--luxury-cream);
      padding: 0.75in 1in;
      min-height: 100vh;
    }

    .brochure-features-compact h2 {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 1.8rem;
      font-weight: 400;
      text-transform: uppercase;
      color: var(--luxury-charcoal);
      text-align: center;
      margin-bottom: 1.5rem;
      letter-spacing: 0.1em;
    }

    .brochure-features-compact h2::after {
      content: '';
      display: block;
      width: 50px;
      height: 2px;
      background: var(--luxury-gold);
      margin: 1rem auto 0;
    }

    .features-compact-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem;
    }

    .feature-compact-item {
      background: white;
      padding: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.04);
      border-left: 3px solid var(--luxury-gold);
    }

    .feature-compact-item h4 {
      font-family: 'Montserrat', sans-serif;
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--luxury-charcoal);
      margin: 0;
    }

    /* Custom cover page with building name */
    .proposal-cover-building-name {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 2.5rem;
      font-weight: 700;
      margin-top: 2rem;
      letter-spacing: 0.05em;
    }

    .proposal-cover-tagline {
      font-family: 'Montserrat', sans-serif;
      font-size: 1rem;
      font-weight: 300;
      opacity: 0.8;
      margin-top: 1rem;
      font-style: italic;
    }

    /* Loading state */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: 'Montserrat', sans-serif;
      font-size: 1.5rem;
      color: var(--luxury-charcoal);
    }

    /* Print optimizations - matching brochure.css approach */
    @media print {
      .proposal-pricing,
      .proposal-terms,
      .brochure-features-compact {
        page-break-after: always;
        page-break-inside: avoid;
        min-height: 100vh;
      }

      .features-compact-grid {
        page-break-inside: avoid;
      }

      .feature-compact-item {
        page-break-inside: avoid;
      }
    }

    /* Truncate long feature descriptions */
    .brochure-feature .brochure-feature-content p {
      display: -webkit-box;
      -webkit-line-clamp: 8;
      -webkit-box-orient: vertical;
      overflow: hidden;
      font-size: 0.85rem;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div id="loadingState" class="loading">
    <div>
      <i class="fas fa-spinner fa-spin"></i> {{ t.loading_proposal }}
    </div>
  </div>

  <div id="proposalContent" class="brochure" style="display: none;">
    <!-- Content will be dynamically generated -->
  </div>

  <!-- Print Button -->
  <button class="brochure-print-btn no-print" onclick="window.print()" style="display: none;" id="printBtn">
    <i class="fas fa-print"></i> {{ t.print_proposal }}
  </button>

  <div class="brochure-print-instructions no-print" style="display: none;" id="printInstructions">
    <p><strong>{{ t.print_tip }}:</strong></p>
    <p>Fichier &rarr; Imprimer &rarr; Enregistrer en PDF</p>
    <p>{{ t.print_enable_backgrounds }}</p>
  </div>

  <!-- Features Data from Jekyll -->
  <script>
    window.mirigiFeatures = [
      {% assign features = site.features | where: 'lang', page.lang | sort: 'title' %}
      {% for feature in features %}
      {
        title: {{ feature.title | jsonify }},
        slug: {{ feature.title | slugify | jsonify }},
        description: {{ feature.content | strip_html | strip_newlines | jsonify }},
        image: {{ feature.image | jsonify }},
        keywords: {{ feature.keywords | jsonify }}
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ];

    window.mirigiCustomers = [
      {% assign customers = site.customers | where: 'lang', page.lang %}
      {% for customer in customers %}
      {
        name: {{ customer.name | jsonify }},
        location: {{ customer.location | jsonify }},
        image: {{ customer.image | jsonify }}
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ];

    // Translations for JavaScript
    window.translations = {
      lang: {{ page.lang | jsonify }},
      proposal_for: {{ t.proposal_for | jsonify }},
      proposal_prepared: {{ t.proposal_prepared | jsonify }},
      proposal_by: {{ t.proposal_by | jsonify }},
      digital_portal_subtitle: {{ t.digital_portal_subtitle | jsonify }},
      about_mirigi: {{ t.about_mirigi | jsonify }},
      about_mirigi_text_1: {{ t.about_mirigi_text_1 | jsonify }},
      about_mirigi_text_2: {{ t.about_mirigi_text_2 | jsonify }},
      about_mirigi_text_3: {{ t.about_mirigi_text_3 | jsonify }},
      additional_features: {{ t.additional_features | jsonify }},
      investment_pricing: {{ t.investment_pricing | jsonify }},
      base_platform: {{ t.base_platform | jsonify }},
      digital_portal_system: {{ t.digital_portal_system | jsonify }},
      annual_investment: {{ t.annual_investment | jsonify }},
      roi_message: {{ t.roi_message | jsonify }},
      staff_workload: {{ t.staff_workload | jsonify }},
      resident_satisfaction: {{ t.resident_satisfaction | jsonify }},
      proposal_terms: {{ t.proposal_terms | jsonify }},
      contract_details: {{ t.contract_details | jsonify }},
      term_label: {{ t.term_label | jsonify }},
      initial_term: {{ t.initial_term | jsonify }},
      setup: {{ t.setup | jsonify }},
      included: {{ t.included | jsonify }},
      training: {{ t.training | jsonify }},
      training_detail: {{ t.training_detail | jsonify }},
      support: {{ t.support | jsonify }},
      support_detail: {{ t.support_detail | jsonify }},
      implementation_timeline: {{ t.implementation_timeline | jsonify }},
      week_1_2: {{ t.week_1_2 | jsonify }},
      week_3: {{ t.week_3 | jsonify }},
      week_4: {{ t.week_4 | jsonify }},
      week_5: {{ t.week_5 | jsonify }},
      additional_notes: {{ t.additional_notes | jsonify }},
      valid_until: {{ t.valid_until | jsonify }},
      customers_title: {{ t.customers_title | jsonify }},
      next_steps: {{ t.next_steps | jsonify }},
      step_1: {{ t.step_1 | jsonify }},
      step_2: {{ t.step_2 | jsonify }},
      step_3: {{ t.step_3 | jsonify }},
      step_4: {{ t.step_4 | jsonify }},
      monthly: {{ t.monthly | jsonify }},
      annual: {{ t.annual | jsonify }},
      per_unit_year: {{ t.per_unit_year | jsonify }}
    };

    // Builder redirect URL
    window.builderUrl = {{ page.lang | jsonify }} === 'en'
      ? '{{ "/proposal-builder.html" | relative_url }}'
      : '{{ "/" | relative_url }}{{ page.lang }}/proposal-builder.html';
  </script>

  <!-- Proposal Generation Logic -->
  <script>
    const T = window.translations;

    // Parse URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    const buildingName = urlParams.get('buildingName') || 'Votre Immeuble';
    const tagline = urlParams.get('tagline') || '';
    const pricing = urlParams.get('pricing') || '';
    const units = urlParams.get('units') || '';
    const terms = urlParams.get('terms') || '';
    const notes = urlParams.get('notes') || '';
    const salesperson = urlParams.get('salesperson') || '';
    const email = urlParams.get('email') || 'info@mirigi.com';
    const validUntil = urlParams.get('validUntil') || '';
    const highlighted = urlParams.get('highlighted') ? urlParams.get('highlighted').split(',') : [];

    // Find highlighted features
    const highlightedFeatures = highlighted
      .map(slug => window.mirigiFeatures.find(f => f.slug === slug))
      .filter(f => f !== undefined);

    // Get non-highlighted features for compact list
    const compactFeatures = window.mirigiFeatures.filter(f => !highlighted.includes(f.slug));

    // Format date based on language
    function formatDate(lang) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      const locale = lang === 'es' ? 'es-ES' : lang === 'fr' ? 'fr-FR' : 'en-US';
      return new Date().toLocaleDateString(locale, options);
    }

    // Build proposal HTML
    function generateProposal() {
      const proposalContent = document.getElementById('proposalContent');
      let html = '';

      // 1. COVER PAGE
      const today = formatDate(T.lang);
      html += `
        <div class="brochure-page brochure-cover">
          <img src="{{ '/img/mirigi-logo-transparent.png' | relative_url }}" alt="Mirigi" class="brochure-logo">
          <p style="font-size: 0.9rem; letter-spacing: 0.2em; text-transform: uppercase; opacity: 0.7; margin-bottom: 0.5rem;">${escapeHtml(T.proposal_for)}</p>
          <div class="proposal-cover-building-name">${escapeHtml(buildingName)}</div>
          <div class="brochure-cover-divider"></div>
          ${tagline ? `<div class="proposal-cover-tagline">"${escapeHtml(tagline)}"</div>` : ''}
          <p class="brochure-subtitle">${escapeHtml(T.digital_portal_subtitle)}</p>
          <div style="position: absolute; bottom: 2.5rem; left: 50%; transform: translateX(-50%); text-align: center; font-size: 0.85rem; opacity: 0.6;">
            <p style="margin: 0.25rem 0;">${escapeHtml(T.proposal_prepared)}: ${today}</p>
            ${salesperson ? `<p style="margin: 0.25rem 0;">${escapeHtml(T.proposal_by)}: ${escapeHtml(salesperson)}</p>` : ''}
          </div>
          <p class="brochure-tagline">www.mirigi.com</p>
        </div>
      `;

      // 2. ABOUT PAGE
      html += `
        <div class="brochure-page brochure-about">
          <h2>${escapeHtml(T.about_mirigi)}</h2>
          <div class="brochure-about-content">
            <p>${T.about_mirigi_text_1}</p>
            <p>${T.about_mirigi_text_2}</p>
            <p>${T.about_mirigi_text_3}</p>
          </div>
        </div>
      `;

      // 3. HIGHLIGHTED FEATURES (detailed cards, 2 per page)
      if (highlightedFeatures.length > 0) {
        for (let i = 0; i < highlightedFeatures.length; i += 2) {
          html += '<div class="brochure-page brochure-features-page">';

          // First feature on page
          const feature1 = highlightedFeatures[i];
          const position1 = 0;
          html += generateFeatureCard(feature1, position1, i + 1);

          // Second feature on page (if exists)
          if (i + 1 < highlightedFeatures.length) {
            const feature2 = highlightedFeatures[i + 1];
            const position2 = 1;
            html += generateFeatureCard(feature2, position2, i + 2);
          }

          html += '</div>';
        }
      }

      // 4. COMPACT FEATURES LIST (all other features)
      if (compactFeatures.length > 0) {
        html += `
          <div class="brochure-page brochure-features-compact">
            <h2>${escapeHtml(T.additional_features)}</h2>
            <div class="features-compact-grid">
        `;

        compactFeatures.forEach(feature => {
          html += `
            <div class="feature-compact-item">
              <h4>${escapeHtml(feature.title)}</h4>
            </div>
          `;
        });

        html += `
            </div>
          </div>
        `;
      }

      // 5. PRICING PAGE (if provided)
      if (pricing) {
        const priceNum = parseFloat(pricing) || 0;
        const unitsNum = parseInt(units) || 0;
        const monthly = priceNum * unitsNum;
        const annual = monthly * 12;

        html += `
          <div class="brochure-page proposal-pricing">
            <h2>${escapeHtml(T.investment_pricing)}</h2>
            <div class="proposal-pricing-content" style="text-align: left; font-size: 1rem; padding: 1.5rem;">
              <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 600; color: var(--luxury-charcoal); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--luxury-gold);">${escapeHtml(T.base_platform)}</h4>
              <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                <span>${escapeHtml(T.digital_portal_system)}</span>
                <span style="font-weight: 600;">$${priceNum.toFixed(2)}/unité/mois</span>
              </div>
              ${unitsNum > 0 ? `
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                  <span>${unitsNum} unités × $${priceNum.toFixed(2)}</span>
                  <span style="font-weight: 600;">$${monthly.toFixed(2)}/mois</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 1rem 0; margin-top: 1rem; border-top: 2px solid var(--luxury-gold); font-size: 1.2rem; font-weight: 600;">
                  <span>${escapeHtml(T.annual_investment)}</span>
                  <span style="color: var(--luxury-charcoal);">$${annual.toFixed(2)}</span>
                </div>
                <p style="text-align: center; font-size: 0.9rem; color: var(--luxury-slate); margin-top: 1rem; font-style: italic;">$${(annual / unitsNum).toFixed(2)}/${escapeHtml(T.per_unit_year)}</p>
              ` : ''}
            </div>
            <div style="text-align: center; margin-top: 2rem;">
              <p style="font-size: 0.95rem; color: var(--luxury-slate); margin: 0.5rem 0;"><i class="fas fa-bolt" style="color: var(--luxury-gold); margin-right: 0.5rem;"></i> ${escapeHtml(T.roi_message)}</p>
              <p style="font-size: 0.95rem; color: var(--luxury-slate); margin: 0.5rem 0;"><i class="fas fa-chart-line" style="color: var(--luxury-gold); margin-right: 0.5rem;"></i> ${escapeHtml(T.staff_workload)}</p>
              <p style="font-size: 0.95rem; color: var(--luxury-slate); margin: 0.5rem 0;"><i class="fas fa-heart" style="color: var(--luxury-gold); margin-right: 0.5rem;"></i> ${escapeHtml(T.resident_satisfaction)}</p>
            </div>
          </div>
        `;
      }

      // 6. TERMS PAGE (if provided)
      if (terms || notes || validUntil) {
        html += `
          <div class="brochure-page proposal-terms">
            <h2>${escapeHtml(T.proposal_terms)}</h2>
            <div class="proposal-pricing-content" style="text-align: left; font-size: 1rem; padding: 1.5rem; margin-bottom: 1.5rem;">
              <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 600; color: var(--luxury-charcoal); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--luxury-gold);">${escapeHtml(T.contract_details)}</h4>
              ${terms ? `<div style="padding: 0.4rem 0;"><strong>${escapeHtml(T.term_label)}:</strong> ${escapeHtml(terms)} ${escapeHtml(T.initial_term)}</div>` : ''}
              <div style="padding: 0.4rem 0;"><strong>${escapeHtml(T.setup)}:</strong> ${escapeHtml(T.included)}</div>
              <div style="padding: 0.4rem 0;"><strong>${escapeHtml(T.training)}:</strong> ${escapeHtml(T.training_detail)}</div>
              <div style="padding: 0.4rem 0;"><strong>${escapeHtml(T.support)}:</strong> ${escapeHtml(T.support_detail)}</div>
            </div>
            <div class="proposal-pricing-content" style="text-align: left; font-size: 1rem; padding: 1.5rem; margin-bottom: 1.5rem;">
              <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 600; color: var(--luxury-charcoal); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--luxury-gold);">${escapeHtml(T.implementation_timeline)}</h4>
              <div style="padding: 0.4rem 0;">${escapeHtml(T.week_1_2)}</div>
              <div style="padding: 0.4rem 0;">${escapeHtml(T.week_3)}</div>
              <div style="padding: 0.4rem 0;">${escapeHtml(T.week_4)}</div>
              <div style="padding: 0.4rem 0;">${escapeHtml(T.week_5)}</div>
            </div>
            ${notes ? `
              <div class="proposal-pricing-content" style="text-align: left; font-size: 1rem; padding: 1.5rem; margin-bottom: 1.5rem;">
                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 600; color: var(--luxury-charcoal); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--luxury-gold);">${escapeHtml(T.additional_notes)}</h4>
                <p style="font-style: italic; line-height: 1.8;">${escapeHtml(notes)}</p>
              </div>
            ` : ''}
            ${validUntil ? `<p style="text-align: center; font-size: 0.9rem; color: var(--luxury-slate); margin-top: 1rem;">${escapeHtml(T.valid_until)} <strong>${escapeHtml(validUntil)}</strong></p>` : ''}
          </div>
        `;
      }

      // 7. CUSTOMERS PAGE
      if (window.mirigiCustomers.length > 0) {
        html += `
          <div class="brochure-page brochure-customers">
            <h2>${escapeHtml(T.customers_title)}</h2>
            <div class="brochure-customers-grid">
        `;

        window.mirigiCustomers.forEach(customer => {
          html += `
            <div class="brochure-customer">
              <div class="brochure-customer-image" style="background-image: url('${customer.image}');"></div>
              <h4>${escapeHtml(customer.name)}</h4>
              ${customer.location ? `<p class="brochure-customer-location"><i class="fas fa-map-marker-alt"></i> ${escapeHtml(customer.location)}</p>` : ''}
            </div>
          `;
        });

        html += `
            </div>
          </div>
        `;
      }

      // 8. NEXT STEPS / CONTACT PAGE
      html += `
        <div class="brochure-page brochure-contact">
          <h2>${escapeHtml(T.next_steps)}</h2>
          <div style="text-align: left; max-width: 300px; margin: 0 auto 2rem;">
            <p style="font-size: 1.1rem; line-height: 2.5; margin: 0;"><span style="color: var(--luxury-gold); font-weight: 600; margin-right: 0.75rem;">1.</span> ${escapeHtml(T.step_1)}</p>
            <p style="font-size: 1.1rem; line-height: 2.5; margin: 0;"><span style="color: var(--luxury-gold); font-weight: 600; margin-right: 0.75rem;">2.</span> ${escapeHtml(T.step_2)}</p>
            <p style="font-size: 1.1rem; line-height: 2.5; margin: 0;"><span style="color: var(--luxury-gold); font-weight: 600; margin-right: 0.75rem;">3.</span> ${escapeHtml(T.step_3)}</p>
            <p style="font-size: 1.1rem; line-height: 2.5; margin: 0;"><span style="color: var(--luxury-gold); font-weight: 600; margin-right: 0.75rem;">4.</span> ${escapeHtml(T.step_4)}</p>
          </div>
          <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.2);">
            ${salesperson ? `<p style="font-size: 1.2rem; font-weight: 600; margin: 0.5rem 0;">${escapeHtml(salesperson)}</p>` : ''}
            <p style="margin: 0.5rem 0;"><i class="fas fa-envelope" style="color: var(--luxury-gold); margin-right: 0.5rem;"></i> ${escapeHtml(email)}</p>
            <p style="margin: 0.5rem 0;"><i class="fas fa-globe" style="color: var(--luxury-gold); margin-right: 0.5rem;"></i> www.mirigi.com</p>
          </div>
          <div class="brochure-contact-logo-wrapper">
            <img src="{{ '/img/mirigi-logo-transparent.png' | relative_url }}" alt="Mirigi" class="brochure-contact-logo">
          </div>
        </div>
      `;

      proposalContent.innerHTML = html;

      // Show content and hide loading
      document.getElementById('loadingState').style.display = 'none';
      proposalContent.style.display = 'block';
      document.getElementById('printBtn').style.display = 'block';
      document.getElementById('printInstructions').style.display = 'block';

      // Update page title
      document.title = `${T.proposal_for} - ${buildingName} - Mirigi`;
    }

    // Generate feature card HTML
    function generateFeatureCard(feature, position, index) {
      const isReverse = position === 1;
      return `
        <div class="brochure-feature ${isReverse ? 'reverse' : ''}" id="feature-${index}">
          <div class="brochure-feature-image" style="background-image: url('${feature.image}');"></div>
          <div class="brochure-feature-content">
            <h3>${escapeHtml(feature.title)}</h3>
            <p>${escapeHtml(feature.description)}</p>
          </div>
        </div>
      `;
    }

    // Escape HTML to prevent XSS
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // Generate proposal on page load
    if (!buildingName || buildingName === '') {
      // Redirect to builder if no building name
      window.location.href = window.builderUrl;
    } else {
      generateProposal();
    }
  </script>
</body>
</html>
